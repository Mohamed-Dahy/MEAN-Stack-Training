<section class="card">
  <h2>Login</h2>

  <form #loginform="ngForm" (ngSubmit)="onsubmit()">
    <div class="field">
      <label>Email</label>
      <input
        type="email"
        name="email"
        ngModel
        required
        email
        #emailRef="ngModel"
      />
      @if (emailRef.invalid && emailRef.touched) {
      <p class="error">Valid email is required</p>
      }
    </div>

    <div class="field">
      <label>Password</label>
      <input
        type="password"
        name="password"
        ngModel
        required
        minlength="8"
        #passwordRef="ngModel"
      />
      @if (passwordRef.invalid && passwordRef.touched) {
      <p class="error">Password is required with minimum length 8</p>
      }
    </div>

    <button type="submit" [disabled]="loginform.invalid || loading">
      {{ loading ? 'Signing in...' : 'Login' }}
    </button>

    @if (serverError) {
    <p class="server-error">{{ serverError }}</p>
    }
  </form>

  <!-- Extra section -->
  <div class="signup-redirect">
    <p>Donâ€™t have an account?</p>
    <button ><a routerLink="/signup" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" href="">Sign up</a></button>
  </div>
</section>
